<div class="floors-wrapper">
  <p-accordion [value]="activeIndex" [multiple]="true">

    @for (floor of floors; track floor.id) {
    <p-accordion-panel [value]="floor.id">
      <p-accordion-header>
        <header class="floors header-row">
          <div class="floor-left">
            <span class="floor-title">FLOOR: {{ floor.floorNumber }}</span>
          </div>
          <div class="floor-right">
            <span class="rooms">{{ floor.totalRooms }} Rooms</span>
            <span class="cleaned">{{ floor.cleaned }} Cleaned, {{ floor.dirty }} Dirty, {{ floor.inspect }}
              Inspect</span>
          </div>
        </header>
      </p-accordion-header>

      <p-accordion-content>
        <div class="floor-content">
          @for (room of floor.rooms; track room.number) {
          <div class="room-card" [ngClass]="room.statusClass">
            <div class="card-top">
              <span class="room-no">{{ room.number }}</span>
              <div class="icons">
                @for (icon of room.iconsTop; track icon) {
                <span class="icon">
                  <img [src]="'assets/floor-svg/' + icon" />
                </span>
                }
              </div>
            </div>
            <span class="room-type">{{ room.type }}</span>
            <div class="card-bottom">
              <div class="icons">
                @for (icon of room.iconsBottom; track icon) {
                <span class="icon">
                  <img [src]="'assets/floor-svg/' + icon" />
                </span>
                }
              </div>
            </div>
          </div>
          }
        </div>
      </p-accordion-content>
    </p-accordion-panel>
    }

  </p-accordion>
</div>