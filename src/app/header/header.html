<div class="app">
  <header class="topbar">
    <p-toolbar aria-label="Topbar Navigation" class="topbar">
      <!-- LEFT SIDE: Breadcrumb -->
      <div class="breadcrumb">
        <button class="back-btn" type="button" aria-label="Back">
          <i class="pi pi-arrow-left"></i>
        </button>
        <span class="breadcrumb-muted">Unicorn Groups / Radiant Retreat /</span>
        <span class="breadcrumb-active">Task Management</span>
      </div>

      <!-- RIGHT SIDE: Actions -->
      <ng-container pToolbarRight>
        <div class="topbar-actions">
          <a class="logo-link" aria-label="Aura home">
            <img class="logo" src="assets/svg/aura-logo.svg" alt="aura">
          </a>

          <button class="icon-btn icon-btn--label" type="button" aria-label="Chat">
            <img class="icon" src="assets/svg/chat.svg" alt="">
            <span class="icon-label">Chat</span>
          </button>

          <button class="icon-btn" type="button" aria-label="Notifications">
            <i class="pi pi-bell"></i>
          </button>

          <button class="icon-btn" type="button" aria-label="Apps">
            <img class="icon" src="assets/svg/menu.svg" alt="">
          </button>
        </div>
      </ng-container>
    </p-toolbar>

    <div class="page-header">
      <h1 class="page-title">Property Overview</h1>

      <!-- PrimeNG toggle -->
      <div class="toolbar">
        <div class="view-toggle selectbtn" aria-label="View toggle">
          <p-selectbutton
            [options]="stateOptions"
            [(ngModel)]="value"
            optionLabel="label"
            optionValue="value"
            aria-labelledby="basic">
          </p-selectbutton>
        </div>

        <div class="card flex flex-col items-center gap-4">
          <p-iconfield>
            <p-inputicon class="pi pi-search" />
            <input pInputText placeholder="Search" pSize="small" />
          </p-iconfield>
        </div>

        <div class="prime-date">
          <p-datepicker [(ngModel)]="selectedDate" dateFormat="dd MM yy" appendTo="body"></p-datepicker>
        </div>

        <button class="pill" type="button">
          <i class="pi pi-filter"></i>
          Filters
        </button>

        <button class="btn-primary" type="button">
          Auto Assign
          <i class="pi pi-sparkles"></i>
        </button>
      </div>
    </div>
  </header>

  <main class="main">
    <section class="dark-strip">
      <div class="container">
        <section class="summary">
          <div class="summary-left">
            <div class="page--legend-column">
              <div class="legend">
                <!-- multiâ€‘color progress bar -->
                <div class="legend--bar">
                  <div class="legend--segment legend--segment--dirty" style="flex: 20">
                    <span class="legend--percent">20%</span>
                  </div>
                  <div class="legend--segment legend--segment--inprogress" style="flex: 14">
                    <span class="legend--percent">14%</span>
                  </div>
                  <div class="legend--segment legend--segment--cleaned" style="flex: 52">
                    <span class="legend--percent">52%</span>
                  </div>
                  <div class="legend--segment legend--segment--inspect" style="flex: 10">
                    <span class="legend--percent">10%</span>
                  </div>
                  <div class="legend--segment legend--segment--out" style="flex: 3">
                    <span class="legend--percent">3%</span>
                  </div>
                  <div class="legend--segment legend--segment--order" style="flex: 1">
                    <span class="legend--percent">1%</span>
                  </div>
                </div>

                <!-- legend labels -->
                <div class="legend--labels">
                  @for (item of [
                    { cls: 'dirty', label: 'Dirty' },
                    { cls: 'inprogress', label: 'In Progress' },
                    { cls: 'inspect', label: 'Inspect' },
                    { cls: 'cleaned', label: 'Cleaned' },
                    { cls: 'out', label: 'Out of Service' },
                    { cls: 'order', label: 'Out of Order' }
                  ]; track item.cls) {
                    <div class="legend--item">
                      <span class="legend--color" [ngClass]="'legend--color--' + item.cls"></span>
                      {{ item.label }}
                    </div>
                  }
                </div>
              </div>
            </div>
          </div>

          <div class="summary-right">
            <div class="kpi-grid">
              <!-- Occupancy card -->
              <p-card class="kpi-card kpi-card--occupancy" role="region">
                <div class="kpi-body kpi-body--occupancy">
                  <div class="kpi-title-oc">Occupancy</div>
                  <div class="kpi-occupancy">
                    <span class="kpi-value">232</span>
                    <span class="kpi-occupancy-max">/ 290</span>
                  </div>
                </div>

                <div class="kpi-ring" role="img" aria-label="Occupancy 25%">
                  <img class="kpi-ring-img" src="assets/svg/occupancy.svg" alt="">
                </div>
              </p-card>

              <!-- KPI cards -->
              @for (kpi of [
                { title: 'Arrival', value: '42', chipClass: 'kpi-chip--pos', chipText: '+2.0%', note: 'From last week ', icon: 'arrival.svg' },
                { title: 'Departure', value: '42', chipClass: 'kpi-chip--neg', chipText: '-2.1%', note: 'From last week', icon: 'departure.svg' },
                { title: 'Guest Request', value: '42', chipClass: 'kpi-chip--pos', chipText: '4.5 min', note: 'Avg. service time', icon: 'guest-request.svg' }
              ]; track kpi.title) {
                <p-card class="kpi-card kpi-card--small" role="region">
                  <div class="kpi-body kpi-body--compact">
                    <div class="kpi-title">{{ kpi.title }}</div>
                    <div class="kpi-value">{{ kpi.value }}</div>
                    <div class="kpi-foot">
                      <span class="kpi-chip" [ngClass]="kpi.chipClass">{{ kpi.chipText }}</span>
                      <span class="kpi-note">{{ kpi.note }}</span>
                    </div>
                  </div>

                  <div class="kpi-icon-wrap" aria-hidden="true">
                    <img class="kpi-icon" [src]="'assets/svg/' + kpi.icon" alt="">
                  </div>
                </p-card>
              }
            </div>
          </div>
        </section>
      </div>
    </section>
  </main>
</div>